<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title
      th:text="${evento.id != null ? 'Modifica Evento' : 'Nuovo Evento'}"
    ></title>
  </head>
  <body>
    <h1
      th:text="${evento.id != null ? 'Modifica Evento' : 'Nuovo Evento'}"
    ></h1>

    <form
      th:action="@{${evento.id == null} ? '/admin/eventi' : '/admin/eventi/modifica/' + ${evento.id}}"
      th:object="${evento}"
      method="post"
    >
      <!-- ✅ Se l'evento è in modifica, imposta il metodo PUT -->
      <input
        type="hidden"
        th:if="${evento.id != null}"
        name="_method"
        value="put"
      />

      <!-- ✅ Titolo -->
      <label for="titolo">Titolo:</label>
      <input type="text" id="titolo" th:field="*{titolo}" required />
      <br />

      <!-- ✅ Data -->
      <label for="data">Data:</label>
      <input type="date" id="data" th:field="*{data}" required />
      <br />

      <!-- ✅ Prezzo -->
      <label for="prezzo">Prezzo:</label>
      <input
        type="number"
        id="prezzo"
        th:field="*{prezzo}"
        step="0.01"
        required
      />
      <br />

      <!-- ✅ Pulsante di invio -->
      <button
        type="submit"
        th:text="${evento.id != null ? 'Modifica Evento' : 'Crea Evento'}"
      ></button>
    </form>

    <!-- ✅ Link per tornare alla lista -->
    <a th:href="@{/admin/eventi}">Torna alla lista eventi</a>
  </body>
</html>
